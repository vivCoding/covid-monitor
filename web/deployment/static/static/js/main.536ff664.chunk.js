(this.webpackJsonphealtheye=this.webpackJsonphealtheye||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(5),o=n.n(a),s=(n(16),n(9)),r=n.n(s),l=n(11),j=n(10),h=n(4),d=(n(18),n(7)),u=n(0),b=Object(d.GoogleApiWrapper)({apiKey:"AIzaSyC3RmyXyx5rURrCYvF5RNOa8GJ8DfsFFMA"})((function(e){var t=e.updateFunction,n=e.entries,c=e.google;return Object(u.jsx)(d.Map,{google:c,zoom:14,containerStyle:{maxWidth:"80%",height:"80%",position:"relative"},style:{width:"700px",height:"700px"},initialCenter:{lat:40.4237,lng:-86.9212},children:n.map((function(e){return Object(u.jsx)(d.Marker,{name:e.location.name,position:e.coordinates,onClick:function(){t(e)}})}))})})),O=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(""),o=Object(h.a)(a,2),s=o[0],d=o[1],O=Object(c.useState)(""),p=Object(h.a)(O,2),x=p[0],f=p[1],m=Object(c.useState)({time:(new Date).toISOString().slice(0,10),date:(new Date).toISOString().slice(11,19)}),g=Object(h.a)(m,2),v=g[0],S=g[1],y=function(e,t){var n=e||(new Date).toISOString().slice(0,10),c=t||(new Date).toISOString().slice(11,19);S({time:c,date:n}),fetch("https://covid-db-access.azurewebsites.net/api/getentryfromtime?"+new URLSearchParams({time:n+" "+c})).then((function(e){return e.json()})).then((function(e){console.log("nice");var t=e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{coordinates:{lat:parseFloat(e.location.latitude),lng:parseFloat(e.location.longitude)}})}));i(t)})).catch((function(e){console.log("error!",e)}))};Object(c.useEffect)(Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid-db-access.azurewebsites.net/api/getrecent");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.next=8,y(n.time.slice(0,10),n.time.slice(11,19));case 8:case"end":return e.stop()}}),e)}))),[]);var w=Object(c.useState)({}),C=Object(h.a)(w,2),F=C[0],I=C[1];return Object(u.jsxs)("div",{id:"container",children:[Object(u.jsx)("h1",{id:"title",children:"HealthEye"}),Object(u.jsxs)("div",{id:"dashboard",children:[Object(u.jsxs)("div",{class:"stats",children:[Object(u.jsx)("h1",{children:"General Information"}),Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["People Count: ",F.people||0," "]}),Object(u.jsxs)("li",{children:["Social distance violations: ",F.violations||0]}),Object(u.jsxs)("li",{children:["Location Name: ",F.location?F.location.name:"none specified"]})]}),Object(u.jsxs)("p",{children:["Showing ",v.time," on ",v.date]}),Object(u.jsx)("h3",{children:"Choose a date:"}),Object(u.jsx)("p",{children:"Enter in yyyy-mm-dd format"}),Object(u.jsx)("input",{placeholder:v.date,value:x,onChange:function(e){f(e.target.value)}}),Object(u.jsx)("h3",{children:"Choose a time:"}),Object(u.jsx)("p",{children:"Enter in hh:mm:ss format"}),Object(u.jsx)("input",{placeholder:v.time,value:s,onChange:function(e){d(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){y(x,s)},children:"Refresh"}),Object(u.jsx)("h4",{children:"Note: work in progress"}),Object(u.jsx)("p",{children:"Some test values"}),Object(u.jsxs)("ul",{id:"note",children:[Object(u.jsx)("li",{children:"Date: 2021-04-01"}),Object(u.jsx)("li",{children:"Time: 12:01:21 up to 12:50:21"})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(b,{updateFunction:function(e){I(e)},entries:n})})]})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),p()}},[[38,1,2]]]);
//# sourceMappingURL=main.536ff664.chunk.js.map